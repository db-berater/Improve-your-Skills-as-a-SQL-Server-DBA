/*
	============================================================================
	File:		03 - LargeNumberOfOrInPredicate.sql

	Summary:	This script demonstrates the impact of large number of values 
				in an IN clause 
					- SQL Antipatterns
				
				THIS SCRIPT IS PART OF THE WORKSHOP:
					"Workshop - Improve your skills as a DBA"

	Date:		October 2025
	Revion:		November 2025

	SQL Server Version: >= 2016
	------------------------------------------------------------------------------
	Written by Uwe Ricken, db Berater GmbH

	This script is intended only as a supplement to demos and lectures
	given by Uwe Ricken.  
  
	THIS CODE AND INFORMATION ARE PROVIDED "AS IS" WITHOUT WARRANTY OF 
	ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED 
	TO THE IMPLIED WARRANTIES OF MERCHANTABILITY AND/OR FITNESS FOR A
	PARTICULAR PURPOSE.
	============================================================================
*/
USE demo_db;
GO

SET NOCOUNT ON;
SET XACT_ABORT ON;
SET STATISTICS IO, TIME ON;
GO

/*
	SQLL Antipattern:	LargeNumberOfInPredicate
*/
SELECT * 
FROM   dbo.Orders 
WHERE  o_custkey IN
(
	'1','10','100','1000','10000','100000','1000030','1000031','1000033','1000034',
	'1000036','1000037','1000039','1000040','1000042','1000043','1000045','1000046',
	'1000048','1000049','1000051','1000052','1000054','1000055','1000057','1000058',
	'1000060','1000061','1000063','1000064','1000066','1000067','1000069','1000070',
	'1000072','10001','1000120','1000121','1000123','1000124','1000126','1000127',
	'1000129','1000130','1000132','1000133','1000135','1000136','1000138','1000139',
	'1000141','1000142','1000144','1000145','1000147','1000148','1000150','1000151',
	'1000153','1000154','1000156','1000157','1000159','1000160','1000208','1000210',
	'1000211','1000213','1000214','1000216','1000217','1000219','1000220','1000222',
	'1000223','1000225','1000226','1000228','1000229','1000231','1000232','1000234',
	'1000235','1000237','1000238','1000240','1000241','1000243','1000244','1000246',
	'1000247','1000249','1000298','10003','1000300','1000301','1000303','1000304','1000306',
	'1000307','1000309','1000310','1000312','1000313','1000315','1000316','1000318','1000319',
	'1000321','1000322','1000324','1000325','1000327','1000328','1000330','1000331','1000333',
	'1000334','1000336','1000337','1000339','1000387','1000388','1000390','1000391','1000393',
	'1000394','1000396','1000397','1000399','10004','1000400','1000402','1000403','1000405',
	'1000406','1000408','1000409','1000411','1000412','1000414','1000415','1000417','1000418',
	'1000420','1000421','1000423','1000424','1000426','1000427','1000429','1000477','1000478',
	'1000480','1000481','1000483','1000484','1000486','1000487','1000489','100049','1000490',
	'1000492','1000493','1000495','1000496','1000498','1000499','1000501','1000502','1000504',
	'1000505','1000507','1000508','100051','1000510','1000511','1000513','1000514','1000516',
	'1000517','100052','100054','100055','1000565','1000567','1000568','100057','1000570','1000571',
	'1000573','1000574','1000576','1000577','1000579','100058','1000580','1000582','1000583','1000585',
	'1000586','1000588','1000589','1000591','1000592','1000594','1000595','1000597','1000598','10006',
	'100060','1000600','1000601','1000603','1000604','1000606','100061','100063','100064','1000655',
	'1000657','1000658','100066','1000660','1000661','1000663','1000664','1000666','1000667','1000669',
	'100067','1000670','1000672','1000673','1000675','1000676','1000678','1000679','1000681','1000682',
	'1000684','1000685','1000687','1000688','100069','1000690','1000691','1000693','1000694','1000696',
	'10007','100070','100072','100073','1000744','1000745','1000747','1000748','100075','1000750','1000751',
	'1000753','1000754','1000756','1000757','1000759','100076','1000760','1000762','1000763','1000765','1000766',
	'1000768','1000769','1000771','1000772','1000774','1000775','1000777','1000778','100078','1000780','1000781',
	'1000783','1000784','1000786','100079','100081','100082','1000834','1000835','1000837','1000838','100084',
	'1000840','1000841','1000843','1000844','1000846','1000847','1000849','100085','1000850','1000852','1000853',
	'1000855','1000856','1000858','1000859','1000861','1000862','1000864','1000865','1000867','1000868','100087',
	'1000870','1000871','1000873','1000874','100088','10009','100090','1000922','1000924','1000925','1000927',
	'1000928','1000930','1000931','1000933','1000934','1000936','1000937','1000939','1000940','1000942','1000943',
	'1000945','1000946','1000948','1000949','1000951','1000952','1000954','1000955','1000957','1000958','1000960',
	'1000961','1000963','1001','10010','1001012','1001014','1001015','1001017','1001018','1001020','1001021',
	'1001023','1001024','1001026','1001027','1001029','1001030','1001032','1001033','1001035','1001036','1001038',
	'1001039','1001041','1001042','1001044','1001045','1001047','1001048','1001050','1001051','1001053','1001101',
	'1001102','1001104','1001105','1001107','1001108','1001110','1001111','1001113','1001114','1001116','1001117',
	'1001119','1001120','1001122','1001123','1001125','1001126','1001128'
);
GO

SELECT * 
FROM   dbo.orders 
WHERE  o_custkey IN
(
	1,10,100,1000,10000,100000,1000030,1000031,1000033,1000034,
	1000036,1000037,1000039,1000040,1000042,1000043,1000045,1000046,
	1000048,1000049,1000051,1000052,1000054,1000055,1000057,1000058,
	1000060,1000061,1000063,1000064,1000066,1000067,1000069,1000070,
	1000072,10001,1000120,1000121,1000123,1000124,1000126,1000127,
	1000129,1000130,1000132,1000133,1000135,1000136,1000138,1000139,
	1000141,1000142,1000144,1000145,1000147,1000148,1000150,1000151,
	1000153,1000154,1000156,1000157,1000159,1000160,1000208,1000210,
	1000211,1000213,1000214,1000216,1000217,1000219,1000220,1000222,
	1000223,1000225,1000226,1000228,1000229,1000231,1000232,1000234,
	1000235,1000237,1000238,1000240,1000241,1000243,1000244,1000246,
	1000247,1000249,1000298,10003,1000300,1000301,1000303,1000304,1000306,
	1000307,1000309,1000310,1000312,1000313,1000315,1000316,1000318,1000319,
	1000321,1000322,1000324,1000325,1000327,1000328,1000330,1000331,1000333,
	1000334,1000336,1000337,1000339,1000387,1000388,1000390,1000391,1000393,
	1000394,1000396,1000397,1000399,10004,1000400,1000402,1000403,1000405,
	1000406,1000408,1000409,1000411,1000412,1000414,1000415,1000417,1000418,
	1000420,1000421,1000423,1000424,1000426,1000427,1000429,1000477,1000478,
	1000480,1000481,1000483,1000484,1000486,1000487,1000489,100049,1000490,
	1000492,1000493,1000495,1000496,1000498,1000499,1000501,1000502,1000504,
	1000505,1000507,1000508,100051,1000510,1000511,1000513,1000514,1000516,
	1000517,100052,100054,100055,1000565,1000567,1000568,100057,1000570,1000571,
	1000573,1000574,1000576,1000577,1000579,100058,1000580,1000582,1000583,1000585,
	1000586,1000588,1000589,1000591,1000592,1000594,1000595,1000597,1000598,10006,
	100060,1000600,1000601,1000603,1000604,1000606,100061,100063,100064,1000655,
	1000657,1000658,100066,1000660,1000661,1000663,1000664,1000666,1000667,1000669,
	100067,1000670,1000672,1000673,1000675,1000676,1000678,1000679,1000681,1000682,
	1000684,1000685,1000687,1000688,100069,1000690,1000691,1000693,1000694,1000696,
	10007,100070,100072,100073,1000744,1000745,1000747,1000748,100075,1000750,1000751,
	1000753,1000754,1000756,1000757,1000759,100076,1000760,1000762,1000763,1000765,1000766,
	1000768,1000769,1000771,1000772,1000774,1000775,1000777,1000778,100078,1000780,1000781,
	1000783,1000784,1000786,100079,100081,100082,1000834,1000835,1000837,1000838,100084,
	1000840,1000841,1000843,1000844,1000846,1000847,1000849,100085,1000850,1000852,1000853,
	1000855,1000856,1000858,1000859,1000861,1000862,1000864,1000865,1000867,1000868,100087,
	1000870,1000871,1000873,1000874,100088,10009,100090,1000922,1000924,1000925,1000927,
	1000928,1000930,1000931,1000933,1000934,1000936,1000937,1000939,1000940,1000942,1000943,
	1000945,1000946,1000948,1000949,1000951,1000952,1000954,1000955,1000957,1000958,1000960,
	1000961,1000963,1001,10010,1001012,1001014,1001015,1001017,1001018,1001020,1001021,
	1001023,1001024,1001026,1001027,1001029,1001030,1001032,1001033,1001035,1001036,1001038,
	1001039,1001041,1001042,1001044,1001045,1001047,1001048,1001050,1001051,1001053,1001101,
	1001102,1001104,1001105,1001107,1001108,1001110,1001111,1001113,1001114,1001116,1001117,
	1001119,1001120,1001122,1001123,1001125,1001126,1001128
);
GO